# 第1章 ソフトウェアの変更

## ソフトウェアの変更の理由
1. 要件の追加
2. バグの修正
3. 設計の改善（リファクタリング）
4. リソース利用の最適化

大事なのは、**振る舞い** が変更されるかどうか
新しい振る舞いの追加と、既存の振る舞いの変更には大きな違いがある。
HTMLなども含めたコードを変更する必要があるならば、振る舞いの変更とみなす。

```Java
public class CDPlayer
{
    // 曲目リストを追加するメソッドが既存であるとして
    public void addTrackListing(Track track) {

    }

    //  曲目を置き換えるメソッドを追加する
    public void replaceTrackListing(String name, Track track) {

    }
}
```
これらは、新しい振る舞いの追加？？それとも変更？？→答えはノー  
メソッドを追加するだけで、どこからも呼び出されなければ、振る舞いは変化しない。  


4. リソース利用の最適化  
リソース利用の最適化は、リファクタリングと似ているが、目的が異なる。  
リファクタリング＝保守性の向上（プログラムの構造）  
最適化＝プログラムが使用しているなんらかのリソース（通常は時間やメモリ）  
**共通点** ＝機能を変えずに「別のもの」を変更すること  

## システムの変更作業をしたときに変わる可能性があるもの
- 構造
- 機能
- リソース利用

|　|要件追加|バグ修正|リファクタリング|最適化|
| ---- | ---- | ---- | ---- | ---- |
|構造|変化する|変化する|変化する|ー|
|新機能|変化する|ー|ー|ー|
|機能|変化する|変化する|ー|ー|
|リソース利用|ー|ー|ー|変化する|

どうすれば、残りの振る舞いを変えずに済ませることができるか、という問題を解決する必要  
問題＝ある変更によって、どれだけの振る舞いに影響がおよぶかわからないこと（そりゃそうだ）  
変更を安全に行うために最も重要なこと **影響範囲を理解すること**  

## 危険な変更のリスクを緩和するための考慮点
1. どんな変更を行わなければならないか
2. 変更が正しく行われたことをどうすれば確認できるか
3. 何も壊していないことをどうすれば確認できるか